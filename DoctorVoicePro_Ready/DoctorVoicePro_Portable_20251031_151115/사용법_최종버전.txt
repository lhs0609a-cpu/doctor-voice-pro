╔═══════════════════════════════════════════════════════════════════╗
║     Doctor Voice Pro - 완전 자동화 설치 패키지 (최종 버전)         ║
║     ★ 아무것도 설치하지 않아도 자동으로 모든 것을 설치합니다! ★    ║
╚═══════════════════════════════════════════════════════════════════╝

【 파일 정보 】
📦 DoctorVoicePro_AutoInstall_Final.zip

【 초간단 사용법 - 3가지 방법 】

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 방법 1: 완전 자동 설치 (★ 가장 쉬움! ★)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✨ 아무것도 설치되지 않은 깨끗한 컴퓨터에서도 작동!

1. ZIP 파일 압축 해제
2. AUTOINSTALL.bat 더블클릭
3. 끝!

→ 자동으로 처리되는 것들:
  ✓ Python 3.12 자동 설치
  ✓ Node.js 자동 설치
  ✓ 버전 호환성 자동 체크
  ✓ 모든 의존성 자동 설치
  ✓ 서버 자동 시작
  ✓ 포트 충돌 자동 해결
  ✓ 브라우저 자동 열기

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 방법 2: 스마트 자동 시작 (이미 Python/Node.js 있을 때)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. ZIP 파일 압축 해제
2. START.bat 더블클릭
3. 끝!

→ 자동으로 처리되는 것들:
  ✓ 기존 포트 자동 정리
  ✓ 포트 중복 자동 체크
  ✓ 사용 가능한 포트 자동 선택
  ✓ 백엔드-프론트엔드 자동 연결
  ✓ 연결 확인 (연결될 때까지 재시도)
  ✓ 브라우저 자동 열기

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 방법 3: 수동 실행 (기존 방법)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. install.bat 실행 (최초 1회)
2. run.bat 실행

【 주요 기능 】

🔄 자동 포트 동기화
  - 로그인 화면에 "자동 동기화" 버튼
  - 버튼 클릭 시 사용 가능한 포트 자동 검색
  - 백엔드 서버를 찾을 때까지 계속 시도
  - 포트 8000~9001 자동 스캔

🛠️ 자동 문제 해결
  - 포트 충돌: 자동으로 다른 포트 사용
  - Python/Node.js 없음: 자동 설치 제안
  - 버전 호환성: 자동 체크 및 경고
  - 백엔드 연결 실패: 자동으로 재시도

🚀 서버 자동 관리
  - 서버 상태 실시간 모니터링
  - 연결 끊김 시 자동 재연결 시도
  - 포트 정보 자동 저장 및 로드
  - 프로세스 자동 정리

【 포함된 유틸리티 】

📄 실행 파일:
  - AUTOINSTALL.bat        → 완전 자동 설치 (★추천★)
  - START.bat              → 스마트 자동 시작
  - run.bat                → 기본 실행
  - install.bat            → 의존성 설치

🔧 관리 도구:
  - server_manager.py      → 서버 자동 관리
  - cleanup_all_ports.bat  → 포트 전체 정리
  - find_available_port.py → 사용 가능한 포트 찾기
  - health_check.py        → 시스템 진단

🔌 설치 도구:
  - auto_install_nodejs.bat → Node.js 자동 설치
  - auto_install_prerequisites.bat → 필수 프로그램 설치

【 접속 정보 】

웹 브라우저: http://localhost:3000
이메일: admin@doctorvoice.com
비밀번호: admin123!@#

【 문제 해결 】

Q: "백엔드 서버 연결 안됨" 표시
A: 로그인 화면의 "자동 동기화" 버튼 클릭!
   → 자동으로 사용 가능한 서버를 찾아 연결합니다.

Q: 포트가 계속 충돌함
A: cleanup_all_ports.bat 실행 후 다시 시도

Q: Python이나 Node.js 설치 실패
A: AUTOINSTALL.bat을 관리자 권한으로 실행

Q: 서버가 시작되지 않음
A: health_check.py 실행 → 자동 진단 및 수정

Q: 로그인이 안 됨
A: admin@doctorvoice.com / admin123!@# 사용

【 자동 동기화 사용법 】

1. 프로그램 실행 후 로그인 화면으로 이동
2. 상단에 "백엔드 서버: 연결 안됨" 표시 확인
3. "자동 동기화" 버튼 클릭
4. 자동으로 포트 8000~9001을 순차 검색
5. 사용 가능한 서버 찾으면 자동 연결
6. "연결됨" 표시 확인 후 로그인

【 새로운 자동화 기능 】

✨ 완전 자동 설치
  - 빈 컴퓨터에서도 한 번의 클릭으로 모든 것 설치
  - Python 버전 자동 체크 (3.10-3.13 호환)
  - Node.js 자동 설치
  - 의존성 버전 자동 조정

✨ 스마트 서버 관리
  - 포트 충돌 자동 감지 및 회피
  - 백엔드-프론트엔드 연결 자동 확인
  - 연결 실패 시 최대 5회 재시도
  - 각 시도마다 다른 포트 조합 테스트

✨ 웹 기반 동기화
  - 로그인 화면에서 버튼 한 번으로 동기화
  - 실시간 연결 상태 표시
  - 포트 검색 진행 상황 표시
  - 수동 URL 설정 옵션

【 시스템 요구사항 】

최소 사양:
- Windows 10/11 (64-bit)
- 디스크 공간: 500MB 이상
- 메모리: 2GB 이상
- 인터넷 연결 (최초 설치 시)

권장 사양:
- Windows 11 (64-bit)
- 디스크 공간: 1GB 이상
- 메모리: 4GB 이상

【 파일 구조 】

DoctorVoicePro/
├── AUTOINSTALL.bat          ← ★ 완전 자동 설치 (추천!)
├── START.bat                 ← ★ 스마트 자동 시작
├── run.bat                   ← 기본 실행
├── server_manager.py         ← 서버 자동 관리
├── cleanup_all_ports.bat     ← 포트 정리
├── backend/                  ← 백엔드 소스
│   ├── app/
│   │   ├── api/
│   │   │   └── system.py    ← 서버 동기화 API (신규!)
│   │   └── main.py
│   └── requirements.txt
└── frontend/                 ← 프론트엔드 소스
    └── src/
        └── app/
            └── login/
                └── page.tsx  ← 자동 동기화 버튼 (신규!)

【 특별한 기능 】

🎯 포트 자동 탐지
  - 8010 포트가 사용 중이면 8011, 8012... 자동 시도
  - 3000 포트가 사용 중이면 3001, 3002... 자동 시도
  - 최대 100개 포트까지 자동 검색

🎯 버전 호환성 자동 체크
  - Python 3.10-3.13 자동 검증
  - Pydantic 1.x 자동 설치
  - FastAPI 호환 버전 자동 선택

🎯 연결 자동 재시도
  - 백엔드 시작 후 최대 30회 연결 시도
  - 프론트엔드 시작 후 최대 30회 연결 시도
  - 실패 시 자동으로 포트 변경 후 재시도

═══════════════════════════════════════════════════════════════════

★ 추천 사용 순서 ★

1. 처음 설치하는 컴퓨터
   → AUTOINSTALL.bat 실행

2. 이미 Python/Node.js가 설치된 컴퓨터
   → START.bat 실행

3. 프로그램이 이미 실행 중인데 연결이 안 될 때
   → 로그인 화면의 "자동 동기화" 버튼 클릭

4. 모든 것을 처음부터 다시 시작하고 싶을 때
   → cleanup_all_ports.bat 실행 후 START.bat 실행

═══════════════════════════════════════════════════════════════════

이게 전부입니다! AUTOINSTALL.bat 한 번만 실행하세요! 🎉
