# 키워드 추출 로직 업데이트

## 변경 날짜
2025년 10월 30일

## 변경 내용

### 새로운 기능: 제목에서 키워드 자동 추출

블로그 제목에서 주요 키워드를 자동으로 추출하는 기능이 추가되었습니다.

### 동작 방식

제목의 앞부분에서 의료 관련 키워드를 추출하고 띄어쓰기를 제거하여 하나의 키워드로 생성합니다.

#### 예시:
- **입력:** "만성 두드러기 병원 효과 없다면 OOO부터 확인하세요"
- **출력:** `만성두드러기병원`

- **입력:** "항문주변습진 계속 재발한다면 'OO' 강화하세요"
- **출력:** `항문주변습진`

- **입력:** "항문 주변 따가움 '이렇게' 하면 치료 어렵지않습니다"
- **출력:** `항문주변따가움`

- **입력:** "서울 아토피 피부과 대신 혈액치료, 무슨 원리일까?"
- **출력:** `서울아토피피부과`

### 알고리즘

1. **불필요한 패턴 제거**
   - "효과 없다면", "계속 재발한다면", "OOO" 등의 수식어 제거
   - 따옴표로 감싼 단어 제거
   - 특수문자 및 구두점 제거

2. **의미있는 단어 추출**
   - 한글 2글자 이상 단어만 추출
   - 의료와 관련없는 일반 동사/부사 제외

3. **키워드 조합**
   - 처음 3-4개 단어를 조합
   - 총 길이가 12자 초과시 3개 단어까지만 사용
   - 띄어쓰기를 제거하고 하나로 결합

### 수정된 파일

1. **backend/app/services/seo_optimizer.py**
   - `extract_keyword_from_title()` 메서드 추가
   - 제외 단어 리스트 정의

2. **backend/app/services/post_service.py**
   - 포스트 생성시 제목에서 키워드 자동 추출
   - 추출된 키워드를 SEO 키워드 리스트 맨 앞에 추가

### 적용된 위치

- ✅ 현재 프로젝트 폴더에 적용됨
- 모든 릴리즈 버전에 포함됨

### 테스트 결과

```
Test 1: OK - 만성두드러기병원
Test 2: OK - 항문주변습진
Test 3: OK - 항문주변따가움
Test 4: OK - 서울아토피피부과
```

모든 테스트 케이스 통과 ✅

### 사용 방법

포스트 생성 시 자동으로 제목에서 키워드가 추출됩니다.
추출된 키워드는 `seo_keywords` 필드의 첫 번째 항목으로 저장됩니다.

```python
# 예시 사용
from app.services.seo_optimizer import seo_optimizer

title = "만성 두드러기 병원 효과 없다면 OOO부터 확인하세요"
keyword = seo_optimizer.extract_keyword_from_title(title)
print(keyword)  # 출력: "만성두드러기병원"
```

### 기대 효과

1. **SEO 최적화**: 주요 검색 키워드 자동 식별
2. **일관성**: 모든 포스트에서 동일한 방식으로 키워드 추출
3. **자동화**: 수동 작업 없이 자동으로 키워드 생성

---

업데이트: 2025-10-30 오후 3:45
