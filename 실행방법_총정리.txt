================================================================
  Doctor Voice Pro - 실행 방법 총정리
================================================================

📌 3가지 실행 방법
-----------------

1. 로컬 실행 (가장 빠름)
   - 백엔드와 프론트엔드를 모두 로컬에서 실행
   - 파일: 최종실행파일5.bat
   - 장점: 빠름, 인터넷 불필요
   - 단점: 외부 접속 불가

2. ngrok 사용 (임시 공개)
   - 백엔드를 ngrok으로 공개
   - 파일: 자동실행_ngrok.bat
   - 장점: 빠른 공개, 설정 간편
   - 단점: URL이 매번 변경됨, ngrok 필요

3. Fly.io 사용 (권장)
   - 백엔드를 Fly.io에 배포
   - 파일: Fly_배포.bat (배포) + 자동실행_Fly백엔드.bat (실행)
   - 장점: 고정 URL, 안정적, 무료
   - 단점: 초기 배포 시간


================================================================
  방법 1: 로컬 실행
================================================================

📁 실행 파일: 최종실행파일5.bat

📋 실행 방법:
  1. 최종실행파일5.bat 더블클릭
  2. 자동으로 브라우저 열림
  3. http://localhost:3001 접속

✅ 장점:
  - 가장 빠른 실행
  - 인터넷 연결 불필요
  - 설정 없음

❌ 단점:
  - 외부에서 접속 불가
  - 로컬 네트워크만 사용 가능

💡 사용 시나리오:
  - 개발 및 테스트
  - 개인 사용
  - 빠른 확인


================================================================
  방법 2: ngrok 사용 (임시 공개)
================================================================

📁 실행 파일: 자동실행_ngrok.bat

📋 준비 사항:
  1. ngrok 설치 (https://ngrok.com)
  2. ngrok 인증: ngrok authtoken YOUR_TOKEN

📋 실행 방법:
  1. 자동실행_ngrok.bat 더블클릭
  2. 자동으로:
     - 백엔드 시작
     - ngrok으로 백엔드 공개
     - ngrok URL 감지
     - 프론트엔드를 ngrok URL로 연결
     - 브라우저 열림
  3. 완료!

✅ 장점:
  - 빠른 공개 (몇 초)
  - 설정 간편
  - 외부 접속 가능

❌ 단점:
  - URL이 재시작할 때마다 변경됨
  - 무료 계정은 터널 1개만
  - ngrok이 실행 중이어야 함

💡 사용 시나리오:
  - 빠른 데모
  - 임시 테스트
  - 외부 공유 (단기)

📝 참고:
  - 상세 가이드: ngrok_실행_가이드.txt


================================================================
  방법 3: Fly.io 사용 (권장)
================================================================

📁 배포 파일: Fly_배포.bat
📁 실행 파일: 자동실행_Fly백엔드.bat

📋 준비 사항 (최초 1회):
  1. Fly.io 계정 생성 (https://fly.io/app/sign-up)
  2. flyctl 설치:
     - PowerShell 관리자 권한 실행
     - iwr https://fly.io/install.ps1 -useb | iex
  3. 로그인: flyctl auth login

📋 배포 방법 (최초 1회):
  1. Fly_배포.bat 더블클릭
  2. 자동으로:
     - Fly.io 앱 생성
     - 백엔드 배포
     - 프론트엔드 환경 변수 설정
  3. 배포 완료!

📋 실행 방법 (배포 후):
  1. 자동실행_Fly백엔드.bat 더블클릭
  2. 프론트엔드만 로컬에서 실행
  3. Fly.io 백엔드에 자동 연결
  4. 브라우저 열림

✅ 장점:
  - 고정 URL (https://doctor-voice-pro-backend.fly.dev)
  - 안정적
  - 무료
  - HTTPS 자동 제공
  - 외부 접속 가능

❌ 단점:
  - 초기 배포 시간 (몇 분)
  - flyctl 설치 필요
  - 코드 변경 시 재배포 필요

💡 사용 시나리오:
  - 프로덕션 사용
  - 장기 공유
  - 안정적인 서비스

📝 참고:
  - 상세 가이드: Fly_배포_가이드.txt


================================================================
  비교표
================================================================

기능             로컬 실행    ngrok        Fly.io
----------------------------------------------------------
실행 속도        ⭐⭐⭐⭐⭐    ⭐⭐⭐⭐      ⭐⭐⭐
설정 간편함      ⭐⭐⭐⭐⭐    ⭐⭐⭐⭐      ⭐⭐⭐
외부 접속        ❌          ✅           ✅
고정 URL         ❌          ❌           ✅
안정성           ⭐⭐⭐⭐⭐    ⭐⭐⭐        ⭐⭐⭐⭐⭐
무료             ✅          ✅           ✅
HTTPS            ❌          ✅           ✅


================================================================
  Claude API 모델 오류 수정됨
================================================================

✅ 수정 완료:
  - 이전: claude-3-5-sonnet-20241022 (404 오류)
  - 현재: claude-3-5-sonnet-20240620 (정상 작동)

📝 수정된 파일:
  - backend/app/services/ai_suggestions.py
  - backend/app/api/system.py


================================================================
  환경 변수 설정
================================================================

ANTHROPIC_API_KEY 설정:
  - backend/api_key.txt 파일에 저장
  - 또는 backend/.env에 추가:
    ANTHROPIC_API_KEY=your-key-here


================================================================
  문제 해결
================================================================

[문제] Claude API 연결 실패 (404 오류)
[해결] ✅ 이미 수정됨 (모델 이름 업데이트)

[문제] ngrok을 찾을 수 없습니다
[해결]
  1. https://ngrok.com 가입
  2. ngrok 다운로드 및 설치
  3. ngrok authtoken YOUR_TOKEN

[문제] flyctl을 찾을 수 없습니다
[해결]
  1. PowerShell 관리자 권한 실행
  2. iwr https://fly.io/install.ps1 -useb | iex

[문제] 포트가 이미 사용 중
[해결]
  1. 포트정리.bat 실행
  2. 또는 자동으로 다른 포트 사용됨


================================================================
  권장 워크플로우
================================================================

1. 개발 중:
   → 최종실행파일5.bat (로컬 실행)

2. 빠른 데모:
   → 자동실행_ngrok.bat (ngrok 사용)

3. 프로덕션/공유:
   → Fly_배포.bat (최초 1회)
   → 자동실행_Fly백엔드.bat (이후 사용)


================================================================
  추가 리소스
================================================================

📖 상세 가이드:
  - ngrok_실행_가이드.txt
  - Fly_배포_가이드.txt

🔧 유틸리티:
  - 포트정리.bat - 포트 사용 프로세스 정리
  - 자동설치2.bat - 환경 재설정

💡 팁:
  - 모든 스크립트는 Ctrl+C로 종료 가능
  - 브라우저가 자동으로 열림
  - 환경 변수는 자동으로 설정됨


================================================================
문의사항이 있으시면 프로젝트 문서를 참조하세요.
================================================================
