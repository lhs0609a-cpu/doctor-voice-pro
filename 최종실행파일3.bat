@echo off
chcp 65001 > nul
setlocal enabledelayedexpansion
REM =================================================================
REM Doctor Voice Pro - 최종 실행 파일 3 (TURBO)
REM 가장 빠른 속도로 연결하고 실행합니다
REM =================================================================

cls
echo.
echo ================================================================
echo   Doctor Voice Pro - TURBO 고속 실행
echo   가장 빠른 속도로 서버를 시작합니다!
echo ================================================================
echo.

set "PROJECT_ROOT=%~dp0"
cd /d "%PROJECT_ROOT%"

REM =================================================================
REM 빠른 환경 확인
REM =================================================================
echo 환경 확인 중...

where python >nul 2>&1
if %errorLevel% neq 0 (
    echo.
    echo ERROR: Python이 필요합니다
    echo https://www.python.org/ 에서 설치하세요
    echo.
    pause
    exit /b 1
)

where node >nul 2>&1
if %errorLevel% neq 0 (
    echo.
    echo ERROR: Node.js가 필요합니다
    echo https://nodejs.org/ 에서 설치하세요
    echo.
    pause
    exit /b 1
)

echo OK 환경 확인 완료
echo.

REM =================================================================
REM TURBO 시작
REM =================================================================
echo ================================================================
echo   TURBO 모드 활성화
echo ================================================================
echo.
echo 다음 최적화가 적용됩니다:
echo   - 최소 대기 시간 (2초)
echo   - 고속 연결 확인 (0.5초 간격)
echo   - 빠른 포트 검색
echo   - 즉시 브라우저 실행
echo.
echo ================================================================
echo.

python turbo_start.py

if %errorLevel% equ 0 (
    echo.
    echo ================================================================
    echo   TURBO 실행 성공!
    echo ================================================================
    echo.
) else (
    echo.
    echo ================================================================
    echo   실행 실패
    echo ================================================================
    echo.
    pause
)
